import { Component, OnInit } from '@angular/core';
import { FormBuilder, FormGroup, Validators } from '@angular/forms';
import { AdminAuthService } from '../services/admin-auth.service';


declare let bootstrap: any;
@Component({
  selector: 'app-testing',
  templateUrl: './testing.component.html',
  styleUrls: ['./testing.component.css']
})
export class TestingComponent {
  // Form data for demo and register modals

  constructor(private fb: FormBuilder, private adminservice: AdminAuthService) { }
  demoForm!: FormGroup;
  submitted = false;
  ngOnInit(): void {
    this.demoForm = this.fb.group({
      name: ['', [Validators.required, Validators.minLength(3)]],
      email: ['', [Validators.required, Validators.email]],
      phone: ['', [Validators.required, Validators.pattern(/^[0-9]{10}$/)]],
      course: ['Software Testing', Validators.required],
      date: ['03/07/2025', Validators.required]
    });
  }
  // demoFormData = {
  //   name: '',
  //   email: '',
  //   phone: '',
  //   course: ''
  // };
  // registerFormData = {
  //   name: '',
  //   email: '',
  //   phone: '',
  //   course: ''
  // };
  // Handle demo form submission
  // onSubmitDemoForm() {
  //   const modal = document.getElementById('demoModal');
  //   const modalInstance = (window as any).bootstrap.Modal.getInstance(modal as Element);
  //   modalInstance?.hide();
  //   // Reset form
  //   // this.demoFormData = {
  //   //   name: '',
  //   //   email: '',
  //   //   phone: '',
  //   //   course: ''
  //   // };

  //   this.adminservice.demoRegistrationFormSubmit(this.demoFormData).subscribe({
  //     next: (res) => {
  //       console.log(res)
  //     }, error(err) {
  //       console.log(err.message)
  //     }
  //   })
  // }
  // Handle register form submission
  // onSubmitRegisterForm() {
  //   console.log('Register Form Data:', this.registerFormData);
  //   alert('Registration Submitted Successfully!');
  //   const modal = document.getElementById('registerModal');
  //   const modalInstance = (window as any).bootstrap.Modal.getInstance(modal as Element);
  //   modalInstance?.hide();
  //   // Reset form
  //   this.registerFormData = {
  //     name: '',
  //     email: '',
  //     phone: '',
  //     course: ''
  //   };
  // }

  get f() {
    return this.demoForm.controls;
  }

  onSubmitDemoForm(): void {
    this.submitted = true;

    if (this.demoForm.valid) {

      this.adminservice.demoRegistrationFormSubmit(this.demoForm.value).subscribe(res => {
        const response = res as { message: string, data: any };
        alert(`${response.message}`);
      })
      // Reset form
      this.demoForm.reset({
        course: 'Full Stack Development',
        date: '03/07/2025'
      });
      this.submitted = false;

      // Hide the modal
      const modalEl = document.getElementById('demoModal');
      if (modalEl) {
        const modalInstance = bootstrap.Modal.getInstance(modalEl) || new bootstrap.Modal(modalEl);
        modalInstance.hide();
      }
    } else {
      console.warn('Form is invalid');
    }
  }
  downloadPDF() {
    const link = document.createElement('a');
    link.href = 'https://nexmind-syllabus.s3.ap-south-1.amazonaws.com/Software_Testing-course_guide.pdf';
    link.download = 'FullstackBroucher-NM.pdf';
    link.target = '_blank';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  }



  testingFeatures = [
    {
      icon: 'üìú',
      title: 'Course Completion Certificate',
      desc: 'Receive a QA bootcamp certificate after successfully completing the course.',
      color: 'bg-test-1'
    },
    {
      icon: 'üë®‚Äçüè´',
      title: 'Live Mentorship',
      desc: 'Attend regular sessions with experienced QA mentors for doubt solving and career guidance.',
      color: 'bg-test-2'
    },
    {
      icon: 'üìÇ',
      title: 'Real-Time Project',
      desc: 'Participate in a simulated company project and test applications end-to-end.',
      color: 'bg-test-3'
    },
    {
      icon: 'üß™',
      title: 'Tool-Based Learning',
      desc: 'Hands-on with Selenium, Postman, JIRA, TestRail, and more.',
      color: 'bg-test-4'
    },
    {
      icon: 'üíº',
      title: 'Job Prep',
      desc: 'Mock interviews, resume reviews, and job referrals for QA roles.',
      color: 'bg-test-5'
    },
    {
      icon: 'üß†',
      title: 'Discussion Forums',
      desc: 'Collaborate with peers and get feedback from the instructor.',
      color: 'bg-test-6'
    }

  ];


  reviews = [
    {
      name: 'Kondeti Kalyan Roy',
      course: 'Full Stack Development',
      rating: 5,
      comment: 'NexMind provides excellent support and industry-ready skills. Loved the practical sessions!'
    },
    {
      name: 'Anjali Mehta',
      course: 'Data Science',
      rating: 4,
      comment: 'Great depth in machine learning and real-time projects. The support team is responsive too.'
    },
    {
      name: 'Ravi Teja',
      course: 'Software Testing',
      rating: 5,
      comment: 'Helped me crack my first job in testing. Everything was taught in a simple and effective way.'
    },
    {
      name: 'Sneha Reddy',
      course: 'Data Science',
      rating: 5,
      comment: 'The best hands-on experience I‚Äôve had. Capstone project really boosted my resume.'
    },
    {
      name: 'Arjun Menon',
      course: 'Full Stack Development',
      rating: 4,
      comment: 'Concepts were taught clearly and examples were industry-relevant. Mentors were helpful.'
    },
    {
      name: 'Divya Sharma',
      course: 'Software Testing',
      rating: 5,
      comment: 'Simple and effective teaching method. Best course to start your testing career.'
    },
    {
      name: 'Nikhil Jain',
      course: 'Full Stack Development',
      rating: 5,
      comment: 'Great structure and career guidance. I got placed after completing the course!'
    },
    {
      name: 'Priya Das',
      course: 'Data Science',
      rating: 4,
      comment: 'Loved the course. Some modules were challenging but worth it. Very satisfied overall.'
    },
    {
      name: 'Sandeep Kumar',
      course: 'Software Testing',
      rating: 5,
      comment: 'The live projects helped me gain confidence. Excellent value for money!'
    },
    {
      name: 'Meera Nair',
      course: 'Full Stack Development',
      rating: 5,
      comment: 'This course changed my career. From non-tech to developer ‚Äî thanks NexMind!'
    }
  ];

  getStars(rating: number): number[] {
    return Array(rating).fill(0);
  }
  get repeatedReviews() {
    return [...this.reviews, ...this.reviews]; // duplicates reviews for seamless scroll
  }

}



































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































